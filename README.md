# idempiere-micro-spring-session
iDempiere Session Microservice using Spring Boot written in Kotlin

[![JitPack](https://jitpack.io/v/iDempiere-micro/idempiere-micro-spring-session.svg)](https://jitpack.io/#iDempiere-micro/idempiere-micro-spring-session)
[![CircleCI](https://circleci.com/gh/iDempiere-micro/idempiere-micro-spring-session/tree/master.svg?style=svg)](https://circleci.com/gh/iDempiere-micro/idempiere-micro-spring-session/tree/master)
[![Codacy Badge](https://api.codacy.com/project/badge/Grade/e28cb867117649aaa83da8dd3130c37e)](https://www.codacy.com/app/davidpodhola/idempiere-micro-spring-session?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=iDempiere-micro/idempiere-micro-spring-session&amp;utm_campaign=Badge_Grade)
[![Maintainability](https://api.codeclimate.com/v1/badges/6cdebdc799bca7a46086/maintainability)](https://codeclimate.com/github/iDempiere-micro/idempiere-micro-spring-session/maintainability)

The repository for iDempiere Kotlin Spring Boot back-end Session microservice compatible with iDempiere.
You can use it to:

-   login a user and obtain a JWT token
-   use the JWT token with GraphQL calls to [iDempiere Micro Spring backend](https://github.com/iDempiere-micro/idempiere-micro-spring) or [iDempire Micro OSGi backend](https://github.com/iDempiere-micro/idempiere-micro) (later).

## Installation
### Prerequisites
Java 8 and higher.

### Download
The JAR is available thanks to 
[JitPack](https://jitpack.io/#iDempiere-micro/idempiere-micro-spring-session). It is always build at an address `https://jitpack.io/com/github/iDempiere-micro/idempiere-micro-spring-session/$VERSION/idempiere-micro-spring-session-$VERSION.jar`. The version 0.0.3 is available at [https://jitpack.io/com/github/iDempiere-micro/idempiere-micro-spring-session/0.0.3/idempiere-micro-spring-session-0.0.3.jar](https://jitpack.io/com/github/iDempiere-micro/idempiere-micro-spring-session/0.0.3/idempiere-micro-spring-session-0.0.3.jar).

### Configuration
Environment variables:

-   `SESSION_URL` - JDBC URL to the iDempiere Database e.g. `jdbc:postgresql://localhost:5432/idempiere`
-   `SESSION_USERNAME` - username of the `adempiere` technical user usually `adempiere`
-   `SESSION_PASSWORD` - password of the `adempiere` technical user (the default is `adempiere`)
-   `JWT_SECRET` - secret key to be used by JWT. This allows the microservices running to validate the token generated by another service instance
-   `JWT_ISSUER` - token issuer e.g. `my_installation`
-   `JWT_EXPIRATION` - token expiration in minutes
